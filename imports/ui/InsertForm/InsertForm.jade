template(name="InsertForm")
    .navigation-wrapper
        nav.navbar.navbar-fixed-top
            a.navbar-back(href="{{getBackLink}}")
                i.fa.fa-angle-left.m-r-xs
                | {{_ 'navigation.back'}}
            .navbar-title {{getTitle}}
            if isSaving
                .navbar-save
                    i.fa.fa-circle-o-notch.fa-spin
            else
                a.navbar-save(href) {{_ 'navigation.save'}}
            if isSearchEnabled
                .search.input-group
                    span.input-group-addon &#xF002;
                    input#search.form-control(type='search' placeholder='{{getSearchTranslation}}' autocomplete='off')

    if isSearchEnabled
        .search-splitter

    form.form-horizontal
        if isPicker activeField
            with activeField
                +InsertFormPickerInput data=getInputData
        else
            each field in getFields
                if isDropdown field
                    with field
                        +InsertFormDropdownInput data=getInputData
                else if isCheckbox field
                    with field
                        +InsertFormCheckboxInput data=getInputData
                else if isDate field
                    with field
                        +InsertFormDateInput data=getInputData
                else if isTextbox field
                    with field
                        +InsertFormTextboxInput data=getInputData
                else if isPassword field
                    with field
                        +InsertFormPasswordInput data=getInputData
                else if isPicker field
                    with field
                        +InsertFormLink data=getInputData
                else
                    with field
                        +InsertFormTextInput data=getInputData

template(name="InsertFormTextInput")
    .section(class='{{getErrorClass}}')
        .section-header
            | {{getEntityTranslation getKey}}
            if isRequired
                | *
        .section-content
            .text-input
                input(type='text' placeholder='{{getEntityTranslation getKey}}' value='{{getValue}}')
        if hasError
            .section-error
                p {{getEntityErrorTranslation}}

template(name="InsertFormPasswordInput")
    .section(class='{{getErrorClass}}')
        .section-header
            | {{getEntityTranslation getKey}}
            if isRequired
                | *
        .section-content
            .text-input
                input(type='password' placeholder='{{getEntityTranslation getKey}}' value='{{getValue}}')
        if hasError
            .section-error
                p {{getEntityErrorTranslation}}

template(name="InsertFormDateInput")
    .section(class='{{getErrorClass}}')
        .section-header
            | {{getEntityTranslation getKey}}
            if isRequired
                | *
        .section-date
            .datepicker
        if hasError
            .section-error
                p {{getEntityErrorTranslation}}

template(name="InsertFormDropdownInput")
    .section(class='{{getErrorClass}}')
        .section-header
            | {{getEntityTranslation getKey}}
            if isRequired
                | *
        .section-select
            select(name='{{getKey}}')
                with 'placeholder'
                    option(value) {{getEntityTranslation getItemKey}}
                if isAllowedValues
                    each getItems
                        option(value='{{this}}') {{getEntityTranslation getItemKey}}
                else if isAllowedKeyValues
                    each keyValue in getKeyValues
                        option(value='{{keyValue.key}}') {{keyValue.value}}
        if hasError
            .section-error
                p {{getEntityErrorTranslation}}

template(name="InsertFormPickerInput")
    .section(key='{{getKey}}')
        .section-picker
            if isAllowedValues
                each item in getItems
                    .form-group(key='{{item}}')
                        .checkmark
                            if isChecked item
                                i.icon.fa.fa-check
                        +with item
                            .key {{getEntityTranslation getItemKey}}
            else if isAllowedKeyValues
                each keyValue in getKeyValues
                    .form-group(key='{{keyValue.key}}')
                        .checkmark
                            if isChecked keyValue.key
                                i.icon.fa.fa-check
                        .key {{keyValue.value}}

template(name="InsertFormCheckboxInput")
    .section(class='{{getErrorClass}}')
        .section-header
            | {{getEntityTranslation getKey}}
            if isRequired
                | *
        .section-select
            input(type='checkbox' checked='true')
            | {{getEntityTranslation getKey}}
        if hasError
            .section-error
                p {{getEntityErrorTranslation}}

template(name="InsertFormTextboxInput")
    .section(class='{{getErrorClass}}')
        .section-header
            | {{getEntityTranslation getKey}}
            if isRequired
                | *
        .section-content
            .text-input
                textarea(placeholder='{{getEntityTranslation getKey}}') {{getValue}}
        if hasError
            .section-error
                p {{getEntityErrorTranslation}}

template(name="InsertFormLink")
    .section
        .section-header
            | {{getEntityTranslation getKey}}
            if isRequired
                | *
        .section-content
            .link.clearfix
                .key {{getValue}}
                .value
                    i.icon.fa.fa-angle-right
        if hasError
            .section-error
                p {{getEntityErrorTranslation}}
